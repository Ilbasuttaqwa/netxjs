# AFMS Environment Configuration untuk DomaiNesia Cloud VPS
# Copy file ini ke .env.local untuk Next.js dan .env untuk Laravel API

# ===========================================
# NEXT.JS CONFIGURATION
# ===========================================

# Application
NEXT_PUBLIC_APP_NAME="AFMS - Attendance & Fingerprint Management System"
NEXT_PUBLIC_APP_URL="https://yourdomain.com"
NEXT_PUBLIC_API_URL="https://api.yourdomain.com"

# Database (PostgreSQL)
DATABASE_URL="postgresql://afms_user:afms_secure_password_2024@localhost:5432/afms_nextjs"

# Authentication
NEXTAUTH_URL="https://yourdomain.com"
NEXTAUTH_SECRET="your-nextauth-secret-key-here-change-this"
JWT_SECRET="your-jwt-secret-key-here-change-this"

# Google OAuth (Optional)
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Environment
NODE_ENV="production"

# Fingerprint Device Settings
NEXT_PUBLIC_FINGERPRINT_ENABLED="true"
NEXT_PUBLIC_FINGERPRINT_REALTIME="true"
NEXT_PUBLIC_FINGERPRINT_AUTO_SYNC="true"

# Laravel API Integration
NEXT_PUBLIC_LARAVEL_API_URL="https://api.yourdomain.com"
LARAVEL_API_TOKEN="your-laravel-api-token-here"

# Security
NEXT_PUBLIC_ENABLE_HTTPS="true"
NEXT_PUBLIC_SECURE_COOKIES="true"

# Monitoring (Optional)
SENTRY_DSN="your-sentry-dsn-here"
NEXT_PUBLIC_ANALYTICS_ID="your-analytics-id-here"

# ===========================================
# LARAVEL API CONFIGURATION
# ===========================================

# Application
APP_NAME="AFMS API"
APP_ENV="production"
APP_KEY="base64:your-app-key-will-be-generated"
APP_DEBUG="false"
APP_URL="https://api.yourdomain.com"

# Logging
LOG_CHANNEL="daily"
LOG_DEPRECATIONS_CHANNEL="null"
LOG_LEVEL="error"

# Database (MySQL)
DB_CONNECTION="mysql"
DB_HOST="127.0.0.1"
DB_PORT="3306"
DB_DATABASE="afms_laravel"
DB_USERNAME="afms_laravel"
DB_PASSWORD="afms_secure_password_2024"

# Redis
REDIS_HOST="127.0.0.1"
REDIS_PASSWORD="null"
REDIS_PORT="6379"

# Cache
CACHE_DRIVER="redis"
FILESYSTEM_DISK="local"
QUEUE_CONNECTION="redis"
SESSION_DRIVER="redis"
SESSION_LIFETIME="120"

# Mail Configuration
MAIL_MAILER="smtp"
MAIL_HOST="mailpit"
MAIL_PORT="1025"
MAIL_USERNAME="null"
MAIL_PASSWORD="null"
MAIL_ENCRYPTION="null"
MAIL_FROM_ADDRESS="noreply@yourdomain.com"
MAIL_FROM_NAME="${APP_NAME}"

# Broadcasting
BROADCAST_DRIVER="pusher"
PUSHER_APP_ID="your-pusher-app-id"
PUSHER_APP_KEY="your-pusher-app-key"
PUSHER_APP_SECRET="your-pusher-app-secret"
PUSHER_HOST=""
PUSHER_PORT="443"
PUSHER_SCHEME="https"
PUSHER_APP_CLUSTER="ap1"

# Fingerprint Device Configuration
FINGERPRINT_ENABLED="true"
FINGERPRINT_AUTO_SYNC="true"
FINGERPRINT_SYNC_INTERVAL="300"
FINGERPRINT_MAX_RETRY="3"
FINGERPRINT_TIMEOUT="30"
FINGERPRINT_LOG_LEVEL="info"

# Next.js Frontend Integration
FRONTEND_URL="https://yourdomain.com"
FRONTEND_API_TOKEN="your-frontend-api-token-here"
CORS_ALLOWED_ORIGINS="https://yourdomain.com"

# API Configuration
API_RATE_LIMIT="1000"
API_RATE_LIMIT_WINDOW="60"
API_VERSION="v1"
API_PREFIX="api"

# Webhook Configuration
WEBHOOK_SECRET="your-webhook-secret-here"
WEBHOOK_TIMEOUT="30"

# File Upload
MAX_UPLOAD_SIZE="10240"
ALLOWED_FILE_TYPES="jpg,jpeg,png,pdf,doc,docx,xls,xlsx"

# Logging Preferences
LOG_QUERIES="false"
LOG_SLOW_QUERIES="true"
LOG_SLOW_QUERY_TIME="2000"

# Security
SANCTUM_STATEFUL_DOMAINS="yourdomain.com,www.yourdomain.com"
SESSION_DOMAIN=".yourdomain.com"
SESSION_SECURE_COOKIE="true"
SESSION_SAME_SITE="lax"

# CORS Configuration
CORS_PATHS="api/*,sanctum/csrf-cookie"
CORS_ALLOWED_METHODS="*"
CORS_ALLOWED_HEADERS="*"
CORS_EXPOSED_HEADERS=""
CORS_MAX_AGE="0"
CORS_SUPPORTS_CREDENTIALS="true"

# ===========================================
# DOMAINESIA SPECIFIC CONFIGURATION
# ===========================================

# Server Configuration
SERVER_NAME="yourdomain.com"
SERVER_ADMIN="admin@yourdomain.com"
TIMEZONE="Asia/Jakarta"

# SSL Configuration
SSL_ENABLED="true"
SSL_REDIRECT="true"
HSTS_ENABLED="true"

# Performance
OPCACHE_ENABLED="true"
REDIS_CACHE_ENABLED="true"
CDN_ENABLED="false"

# Backup Configuration
BACKUP_ENABLED="true"
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS="7"
BACKUP_LOCATION="/backup/afms"

# Monitoring
MONITORING_ENABLED="true"
HEALTH_CHECK_URL="/health"
UPTIME_CHECK_INTERVAL="300"

# ===========================================
# INSTRUCTIONS
# ===========================================

# 1. Ganti 'yourdomain.com' dengan domain Anda yang sebenarnya
# 2. Generate secret keys yang aman:
#    - NEXTAUTH_SECRET: openssl rand -base64 32
#    - JWT_SECRET: openssl rand -base64 32
#    - APP_KEY: php artisan key:generate
# 3. Update password database dengan yang aman
# 4. Konfigurasi Google OAuth jika diperlukan
# 5. Setup Pusher untuk real-time features
# 6. Konfigurasi email SMTP untuk notifikasi
# 7. Setup monitoring dan backup sesuai kebutuhan

# ===========================================
# SECURITY NOTES
# ===========================================

# - Jangan commit file ini ke repository
# - Gunakan password yang kuat untuk database
# - Aktifkan firewall dan fail2ban
# - Update sistem secara berkala
# - Monitor log files secara rutin
# - Backup data secara berkala
# - Gunakan SSL/TLS untuk semua koneksi
# - Batasi akses SSH hanya untuk IP tertentu