"use strict";(()=>{var t={};t.id=77,t.ids=[77],t.modules={9344:t=>{t.exports=require("jsonwebtoken")},145:t=>{t.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(t,a)=>{Object.defineProperty(a,"l",{enumerable:!0,get:function(){return function t(a,e){return e in a?a[e]:"then"in a&&"function"==typeof a.then?a.then(a=>t(a,e)):"function"==typeof a&&"default"===e?a:void 0}}})},1185:(t,a,e)=>{e.r(a),e.d(a,{config:()=>l,default:()=>m,routeModule:()=>h});var n={};e.r(n),e.d(n,{default:()=>c});var r=e(1802),s=e(7153),i=e(6249),o=e(3382);let u={today_stats:{total_karyawan:25,hadir:20,terlambat:3,tidak_hadir:2,percentage_hadir:80},recent_activities:[{id:1,karyawan:{nama:"John Doe",email:"john@afms.com"},activity:"Clock In",time:"08:00:00",status:"hadir",lokasi:"Kantor Utama",timestamp:new Date().toISOString()},{id:2,karyawan:{nama:"Jane Smith",email:"jane@afms.com"},activity:"Clock In",time:"08:15:00",status:"terlambat",lokasi:"Kantor Utama",timestamp:new Date(Date.now()-9e5).toISOString()},{id:3,karyawan:{nama:"Bob Johnson",email:"bob@afms.com"},activity:"Clock Out",time:"17:00:00",status:"hadir",lokasi:"Kantor Utama",timestamp:new Date(Date.now()-18e5).toISOString()}],cabang_stats:[{cabang_id:1,nama_cabang:"Kantor Utama",total_karyawan:15,hadir:12,terlambat:2,tidak_hadir:1},{cabang_id:2,nama_cabang:"Cabang Jakarta",total_karyawan:10,hadir:8,terlambat:1,tidak_hadir:1}],hourly_attendance:[{hour:"07:00",count:2},{hour:"08:00",count:15},{hour:"09:00",count:5},{hour:"10:00",count:2},{hour:"11:00",count:1}]};async function d(t,a){try{if("GET"===t.method){let{type:e="dashboard"}=t.query;switch(e){case"dashboard":return a.status(200).json({success:!0,data:{today_stats:u.today_stats,recent_activities:u.recent_activities.slice(0,10),cabang_stats:u.cabang_stats}});case"realtime":return a.status(200).json({success:!0,data:{recent_activities:u.recent_activities,hourly_attendance:u.hourly_attendance,last_updated:new Date().toISOString()}});case"stats":return a.status(200).json({success:!0,data:u});default:return a.status(400).json({message:"Invalid type parameter. Use: dashboard, realtime, or stats"})}}return a.status(405).json({message:"Method not allowed"})}catch(t){return a.status(500).json({message:"Internal server error"})}}let c=(0,o.c)(d),m=(0,i.l)(n,"default"),l=(0,i.l)(n,"config"),h=new r.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/monitoring",pathname:"/api/monitoring",bundlePath:"",filename:""},userland:n})},3382:(t,a,e)=>{e.d(a,{Q:()=>s,c:()=>i});var n=e(9344),r=e.n(n);function s(t,a){return async(e,n)=>{try{let s=e.headers.authorization;if(!s||!s.startsWith("Bearer "))return n.status(401).json({message:"No token provided"});let i=s.substring(7),o=r().verify(i,"your-super-secret-jwt-key-here-development");if(!o||!o.id)return n.status(401).json({message:"Invalid token"});if(e.user={id:o.id,userId:parseInt(o.id)||1,email:o.email||"",name:o.name||"",role:o.role||"admin"},a&&!(Array.isArray(a)?a:[a]).includes(e.user.role))return n.status(403).json({message:"Insufficient permissions"});return await t(e,n)}catch(t){return n.status(401).json({message:"Invalid token"})}}}function i(t){return s(t,"admin")}},7153:(t,a)=>{var e;Object.defineProperty(a,"x",{enumerable:!0,get:function(){return e}}),function(t){t.PAGES="PAGES",t.PAGES_API="PAGES_API",t.APP_PAGE="APP_PAGE",t.APP_ROUTE="APP_ROUTE"}(e||(e={}))},1802:(t,a,e)=>{t.exports=e(145)}};var a=require("../../webpack-api-runtime.js");a.C(t);var e=a(a.s=1185);module.exports=e})();