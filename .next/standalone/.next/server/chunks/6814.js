exports.id=6814,exports.ids=[6814],exports.modules={9314:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{H:()=>d,a:()=>g});var r=a(997),n=a(6689),i=a(8484),c=a(3337),l=a(1163),o=e([i]);i=(o.then?(await o)():o)[0];let y={user:null,token:null,isAuthenticated:!1,isLoading:!0};function u(e,t){switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_USER":return{...e,user:t.payload.user,token:t.payload.token,isAuthenticated:!0,isLoading:!1};case"CLEAR_USER":return{...e,user:null,token:null,isAuthenticated:!1,isLoading:!1};case"SET_TOKEN":return{...e,token:t.payload};default:return e}}let m=(0,n.createContext)(void 0);function d({children:e}){let[t,a]=(0,n.useReducer)(u,y),{addToast:s}=(0,c.p)(),o=(0,l.useRouter)(),d=async e=>{try{a({type:"SET_LOADING",payload:!0});let t=await i.iJ.login(e);if(t.success&&t.data){let{user:e,token:r}=t.data;a({type:"SET_USER",payload:{user:e,token:r}}),s({type:"success",title:"Login Berhasil",message:`Selamat datang, ${e.name}!`}),"admin"===e.role?o.push("/admin/dashboard"):o.push("/dashboard")}else throw Error(t.message||"Login gagal")}catch(e){throw a({type:"SET_LOADING",payload:!1}),s({type:"error",title:"Login Gagal",message:e.message||"Terjadi kesalahan saat login"}),e}},g=()=>{a({type:"CLEAR_USER"}),s({type:"info",title:"Logout Berhasil",message:"Anda telah keluar dari sistem"}),o.push("/login")},p=async()=>{try{if(!t.token)return;let e=await i.iJ.getProfile();if(e.success&&e.data){let s=e.data;a({type:"SET_USER",payload:{user:s,token:t.token}})}}catch(e){g()}},h={...t,login:d,logout:g,refreshUser:p};return r.jsx(m.Provider,{value:h,children:e})}function g(){let e=(0,n.useContext)(m);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}s()}catch(e){s(e)}})},6225:(e,t,a)=>{"use strict";a.d(t,{Fg:()=>i,f6:()=>c});var s=a(997),r=a(6689);let n=(0,r.createContext)(void 0),i=()=>{let e=(0,r.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e},c=({children:e})=>{let[t,a]=(0,r.useState)("light");return(0,r.useEffect)(()=>{let e=localStorage.getItem("theme");e&&("light"===e||"dark"===e)?a(e):a(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[]),(0,r.useEffect)(()=>{let e=document.documentElement;"dark"===t?e.classList.add("dark"):e.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),s.jsx(n.Provider,{value:{theme:t,toggleTheme:()=>{a(e=>"light"===e?"dark":"light")},setTheme:e=>{a(e)}},children:e})}},3337:(e,t,a)=>{"use strict";a.d(t,{V:()=>y,p:()=>m});var s=a(997),r=a(6689),n=a(9005),i=a(3594),c=a(3070),l=a(3295),o=a(1819);let u=({toast:e,onRemove:t})=>{let[a,u]=(0,r.useState)(!1),[d,g]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=setTimeout(()=>u(!0),10);return()=>clearTimeout(e)},[]),s.jsx("div",{className:`
        transform transition-all duration-300 ease-in-out
        ${a&&!d?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
        max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto border-l-4
        ${(()=>{switch(e.type){case"success":return"border-success-200 bg-success-50";case"error":return"border-danger-200 bg-danger-50";case"warning":return"border-warning-200 bg-warning-50";case"info":return"border-primary-200 bg-primary-50";default:return"border-gray-200 bg-gray-50"}})()}
      `,children:s.jsx("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:(()=>{switch(e.type){case"success":return s.jsx(i.Z,{className:"w-5 h-5 text-success-500"});case"error":return s.jsx(c.Z,{className:"w-5 h-5 text-danger-500"});case"warning":return s.jsx(l.Z,{className:"w-5 h-5 text-warning-500"});case"info":return s.jsx(o.Z,{className:"w-5 h-5 text-primary-500"});default:return s.jsx(o.Z,{className:"w-5 h-5 text-gray-500"})}})()}),(0,s.jsxs)("div",{className:"ml-3 w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.title}),e.message&&s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:e.message})]}),s.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:(0,s.jsxs)("button",{className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",onClick:()=>{g(!0),setTimeout(()=>t(e.id),300)},children:[s.jsx("span",{className:"sr-only",children:"Close"}),s.jsx(n.Z,{className:"h-5 w-5","aria-hidden":"true"})]})})]})})})},d=({toasts:e,onRemove:t})=>s.jsx("div",{"aria-live":"assertive",className:"fixed inset-0 flex items-end justify-center px-4 py-6 pointer-events-none sm:p-6 sm:items-start sm:justify-end z-50",children:s.jsx("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-end",children:e.map(e=>s.jsx(u,{toast:e,onRemove:t},e.id))})}),g=(0,r.createContext)(void 0);function y({children:e}){let[t,a]=(0,r.useState)([]),n=e=>{a(t=>t.filter(t=>t.id!==e))};return(0,s.jsxs)(g.Provider,{value:{toasts:t,addToast:e=>{let t=Math.random().toString(36).substr(2,9),s={...e,id:t,duration:e.duration||5e3};a(e=>[...e,s]),s.duration&&s.duration>0&&setTimeout(()=>{n(t)},s.duration)},removeToast:n},children:[e,s.jsx(d,{toasts:t,onRemove:n})]})}function m(){let e=(0,r.useContext)(g);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e}},8484:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{CV:()=>y,DD:()=>o,T5:()=>d,iJ:()=>l,jU:()=>u,kx:()=>p,rG:()=>g,vb:()=>m});var r=a(9648),n=e([r]);let i=(r=(n.then?(await n)():n)[0]).default.create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});i.interceptors.request.use(e=>e,e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>(e.response?.status,Promise.reject(e)));let c=e=>e.data,l={login:async e=>{let t=await i.post("/auth/login",e);return c(t)},logout:async()=>{let e=await i.post("/auth/logout");return c(e)},getProfile:async()=>{let e=await i.get("/auth/profile");return c(e)},refreshToken:async()=>{let e=await i.post("/auth/refresh");return c(e)}},o={getCabang:async e=>{let t=await i.get("/cabang",{params:e});return c(t)},getCabangById:async e=>{let t=await i.get(`/cabang/${e}`);return c(t)},createCabang:async e=>{let t=await i.post("/cabang",e);return c(t)},updateCabang:async(e,t)=>{let a=await i.put(`/cabang/${e}`,t);return c(a)},deleteCabang:async e=>{let t=await i.delete(`/cabang/${e}`);return c(t)}},u={getJabatan:async e=>{let t=await i.get("/jabatan",{params:e});return c(t)},getJabatanById:async e=>{let t=await i.get(`/jabatan/${e}`);return c(t)},createJabatan:async e=>{let t=await i.post("/jabatan",e);return c(t)},updateJabatan:async(e,t)=>{let a=await i.put(`/jabatan/${e}`,t);return c(a)},deleteJabatan:async e=>{let t=await i.delete(`/jabatan/${e}`);return c(t)}},d={getKaryawan:async e=>{let t=await i.get("/karyawan",{params:e});return c(t)},getKaryawanById:async e=>{let t=await i.get(`/karyawan/${e}`);return c(t)},createKaryawan:async e=>{let t=await i.post("/karyawan",e);return c(t)},updateKaryawan:async(e,t)=>{let a=await i.put(`/karyawan/${e}`,t);return c(a)},deleteKaryawan:async e=>{let t=await i.delete(`/karyawan/${e}`);return c(t)}},g={getAbsensi:async e=>{let t=await i.get("/absensi",{params:e});return c(t)},getAbsensiById:async e=>{let t=await i.get(`/absensi/${e}`);return c(t)},createAbsensi:async e=>{let t=await i.post("/absensi",e);return c(t)},updateAbsensi:async(e,t)=>{let a=await i.put(`/absensi/${e}`,t);return c(a)},deleteAbsensi:async e=>{let t=await i.delete(`/absensi/${e}`);return c(t)},syncFingerprint:async()=>{let e=await i.post("/absensi/sync-fingerprint");return c(e)},getByDate:async e=>{let t=await i.get(`/absensi/date/${e}`);return c(t)},getMyAttendance:async e=>{let t=await i.get("/absensi/my-attendance",{params:e});return c(t)},clockIn:async e=>{let t=await i.post("/absensi/clock-in",e);return c(t)},clockOut:async e=>{let t=await i.post("/absensi/clock-out",e);return c(t)},export:async e=>{let t=await i.get("/absensi/export",{params:e,responseType:"blob"});return c(t)}},y={getDevices:async()=>{let e=await i.get("/monitoring/devices");return c(e)},getDeviceStatus:async e=>{let t=await i.get(`/monitoring/devices/${e}/status`);return c(t)},syncDevice:async e=>{let t=await i.post(`/monitoring/devices/${e}/sync`);return c(t)},testConnection:async e=>{let t=await i.post(`/monitoring/devices/${e}/test`);return c(t)}},m={getDeductions:async e=>{let t=await i.get(`/payroll/deductions?period=${e}`);return c(t)},processDeductions:async e=>{let t=await i.post("/payroll/deductions",{period:e});return c(t)}},p={getStats:async()=>{let e=await i.get("/dashboard/stats");return c(e)},getAttendanceChart:async(e="7days")=>{let t=await i.get("/dashboard/attendance-chart",{params:{period:e}});return c(t)},getRecentActivities:async(e=10)=>{let t=await i.get("/dashboard/recent-activities",{params:{limit:e}});return c(t)}};s()}catch(e){s(e)}})},6814:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>y});var r=a(997),n=a(9752),i=a(9314),c=a(3337),l=a(6225);a(6764);var o=a(6689),u=a(968),d=a.n(u),g=e([n,i]);[n,i]=g.then?(await g)():g;let m=new n.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:3e5}}});function y({Component:e,pageProps:t}){let[a,s]=(0,o.useState)(!1);return a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d(),{children:[r.jsx("title",{children:"AFMS - Attendance & Fingerprint Management System"}),r.jsx("meta",{name:"description",content:"Advanced Fingerprint Management System for attendance tracking"}),r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),r.jsx("link",{rel:"icon",href:"/favicon.ico"}),r.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),r.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),r.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap",rel:"stylesheet"})]}),r.jsx(n.QueryClientProvider,{client:m,children:r.jsx(l.f6,{children:r.jsx(c.V,{children:r.jsx(i.H,{children:r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 transition-colors duration-300",children:r.jsx(e,{...t})})})})})})]}):null}s()}catch(e){s(e)}})},6764:()=>{}};