(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(4070)}])},4410:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var s=a(5893),r=a(7294),n=a(2003),i=a(8660);let l=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary-600 text-white hover:bg-primary-700",destructive:"bg-danger-600 text-white hover:bg-danger-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-50 text-gray-700",secondary:"bg-secondary-600 text-white hover:bg-secondary-700",ghost:"hover:bg-gray-100 text-gray-700",link:"underline-offset-4 hover:underline text-primary-600",success:"bg-success-600 text-white hover:bg-success-700",warning:"bg-warning-600 text-white hover:bg-warning-700"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=(0,r.forwardRef)((e,t)=>{let{className:a,variant:r,size:n,loading:c,leftIcon:o,rightIcon:d,children:u,disabled:m,...h}=e;return(0,s.jsxs)("button",{className:(0,i.cn)(l({variant:r,size:n,className:a})),ref:t,disabled:m||c,...h,children:[c&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!c&&o&&(0,s.jsx)("span",{className:"mr-2",children:o}),u,!c&&d&&(0,s.jsx)("span",{className:"ml-2",children:d})]})});c.displayName="Button"},6650:function(e,t,a){"use strict";var s=a(5893);a(7294);var r=a(8660);let n=e=>{let{children:t,className:a,variant:n="default",padding:i="md",hover:l=!1,animate:c=!1}=e;return(0,s.jsx)("div",{className:(0,r.cn)("rounded-lg transition-all duration-200",(()=>{switch(n){case"glass":return"glass border border-white/20 shadow-lg";case"elevated":return"bg-white shadow-xl border-0";case"outlined":return"bg-white border-2 border-gray-200 shadow-sm";default:return"bg-white border border-gray-200 shadow-soft"}})(),(()=>{switch(i){case"none":return"";case"sm":return"p-4";case"md":default:return"p-6";case"lg":return"p-8"}})(),l&&"hover:shadow-lg hover:-translate-y-1",c&&"animate-slide-up",a),children:t})};n.Header=e=>{let{children:t,className:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("border-b border-gray-200 pb-4 mb-4",a),children:t})},n.Body=e=>{let{children:t,className:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("flex-1",a),children:t})},n.Footer=e=>{let{children:t,className:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("border-t border-gray-200 pt-4 mt-4",a),children:t})},t.Z=n},5720:function(e,t,a){"use strict";var s=a(5893);a(7294);var r=a(8660);t.Z=e=>{let{size:t="md",variant:a="spinner",color:n="primary",className:i,text:l}=e,c=()=>{switch(t){case"sm":return"w-4 h-4";case"md":default:return"w-6 h-6";case"lg":return"w-8 h-8";case"xl":return"w-12 h-12"}},o=()=>{switch(n){case"primary":default:return"text-primary-600";case"secondary":return"text-secondary-600";case"white":return"text-white";case"gray":return"text-gray-600"}},d=()=>(0,s.jsxs)("svg",{className:(0,r.cn)("animate-spin",c(),o(),i),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u=()=>(0,s.jsx)("div",{className:(0,r.cn)("flex space-x-1",i),children:[0,1,2].map(e=>(0,s.jsx)("div",{className:(0,r.cn)("rounded-full animate-pulse",c().replace("w-","w-").replace("h-","h-").split(" ").map(e=>e.startsWith("w-")?e.replace(/\d+/,e=>String(Math.max(1,parseInt(e)/2))):e.startsWith("h-")?e.replace(/\d+/,e=>String(Math.max(1,parseInt(e)/2))):e).join(" "),o().replace("text-","bg-")),style:{animationDelay:"".concat(.2*e,"s"),animationDuration:"1s"}},e))}),m=()=>(0,s.jsx)("div",{className:(0,r.cn)("rounded-full animate-pulse",c(),o().replace("text-","bg-"),i)}),h=()=>(0,s.jsx)("div",{className:(0,r.cn)("flex items-end space-x-1",i),children:[0,1,2,3].map(e=>(0,s.jsx)("div",{className:(0,r.cn)("animate-pulse","w-1",c().split(" ")[1],o().replace("text-","bg-")),style:{animationDelay:"".concat(.15*e,"s"),animationDuration:"0.8s",height:"".concat(20+e%2*10,"px")}},e))});return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(()=>{switch(a){case"spinner":default:return d();case"dots":return u();case"pulse":return m();case"bars":return h()}})(),l&&(0,s.jsx)("p",{className:(0,r.cn)("text-sm",o()),children:l})]})}},4070:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var s=a(5893),r=a(1163),n=a(7294),i=a(889),l=a(4410),c=a(6650),o=a(5720);function d(){let[e,t]=(0,n.useState)(!1),[a,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(""),[h,x]=(0,n.useState)(""),{addToast:p}=(0,i.p)(),g=(0,r.useRouter)();(0,n.useEffect)(()=>{localStorage.getItem("auth_token")?g.replace("/dashboard"):d(!1)},[]);let f=async e=>{e.preventDefault(),t(!0);try{let e=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u,password:h})}),t=await e.json();e.ok&&t.success&&t.data.token?(localStorage.setItem("auth_token",t.data.token),localStorage.setItem("auth_user",JSON.stringify(t.data.user)),p({title:"Login Berhasil",message:"Selamat datang!",type:"success"}),g.replace("/dashboard")):p({title:"Login Gagal",message:t.message||"Email atau password salah.",type:"error"})}catch(e){p({title:"Error",message:"Terjadi kesalahan saat login.",type:"error"})}finally{t(!1)}};return a?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)(o.Z,{})}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Masuk ke AFMS"}),(0,s.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sistem Manajemen Absensi Fingerprint"})]}),(0,s.jsx)(c.Z,{className:"p-8",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,s.jsx)("input",{id:"email",type:"email",value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Masukkan email Anda",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,s.jsx)("input",{id:"password",type:"password",value:h,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Masukkan password Anda",required:!0})]}),(0,s.jsx)(l.z,{type:"submit",loading:e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Masuk"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Dengan masuk, Anda menyetujui penggunaan sistem AFMS"}),(0,s.jsx)("p",{className:"text-xs text-blue-600 mt-2",children:"Demo: Gunakan email dan password apa saja untuk masuk"})]})]})})]})})}},8660:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var s=a(512),r=a(8388);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}}},function(e){e.O(0,[474,888,774,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);