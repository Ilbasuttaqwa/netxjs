(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[288],{1252:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/cabang",function(){return t(1898)}])},5811:function(e,a,t){"use strict";t.d(a,{I:function(){return r}});var n=t(5893),l=t(7294),s=t(8660);let r=(0,l.forwardRef)((e,a)=>{let{className:t,type:l,label:r,error:i,helperText:o,leftIcon:c,rightIcon:d,id:u,...m}=e,x=u||"input-".concat(Math.random().toString(36).substr(2,9));return(0,n.jsxs)("div",{className:"w-full",children:[r&&(0,n.jsx)("label",{htmlFor:x,className:"form-label",children:r}),(0,n.jsxs)("div",{className:"relative",children:[c&&(0,n.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,n.jsx)("span",{className:"text-gray-400 text-sm",children:c})}),(0,n.jsx)("input",{type:l,id:x,className:(0,s.cn)("form-input",c&&"pl-10",d&&"pr-10",i&&"border-danger-300 focus:border-danger-500 focus:ring-danger-500",t),ref:a,...m}),d&&(0,n.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,n.jsx)("span",{className:"text-gray-400 text-sm",children:d})})]}),i&&(0,n.jsx)("p",{className:"form-error",children:i}),o&&!i&&(0,n.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:o})]})});r.displayName="Input"},3352:function(e,a,t){"use strict";var n=t(5893),l=t(7294),s=t(1594),r=t(8660);a.Z=e=>{let{isOpen:a,onClose:t,title:i,children:o,size:c="md",showCloseButton:d=!0,closeOnOverlayClick:u=!0,className:m}=e,x=(0,l.useRef)(null);return((0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t()};return a&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[a,t]),a)?(0,n.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto animate-fade-in",children:(0,n.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",onClick:e=>{u&&e.target===e.currentTarget&&t()},children:[(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"}),(0,n.jsxs)("div",{ref:x,className:(0,r.cn)("relative w-full transform overflow-hidden rounded-lg bg-white shadow-xl transition-all animate-scale-in",(()=>{switch(c){case"sm":return"max-w-md";case"md":default:return"max-w-lg";case"lg":return"max-w-2xl";case"xl":return"max-w-4xl";case"full":return"max-w-full mx-4"}})(),m),children:[(i||d)&&(0,n.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[i&&(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:i}),d&&(0,n.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",onClick:t,children:[(0,n.jsx)("span",{className:"sr-only",children:"Close"}),(0,n.jsx)(s.Z,{className:"h-6 w-6"})]})]}),(0,n.jsx)("div",{className:"px-6 py-4",children:o})]})]})}):null}},1898:function(e,a,t){"use strict";t.r(a);var n=t(5893),l=t(7294),s=t(1163),r=t(8154),i=t(5770),o=t(889),c=t(4410),d=t(5811),u=t(3352),m=t(2973),x=t(1182),f=t(3903),h=t(3681);a.default=()=>{let{user:e}=(0,i.a)(),{addToast:a}=(0,o.p)();(0,s.useRouter)();let[t,p]=(0,l.useState)([]),[g,b]=(0,l.useState)(!0),[y,v]=(0,l.useState)(!1),[j,k]=(0,l.useState)(null),[w,N]=(0,l.useState)({nama:"",alamat:"",telepon:"",email:"",kode:"",status:"aktif"}),C=[{id:1,nama:"Cabang Pusat",alamat:"Jl. Sudirman No. 123, Jakarta",telepon:"021-12345678",email:"pusat@afms.com",kode:"CP001",status:"aktif",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:2,nama:"Cabang Bandung",alamat:"Jl. Asia Afrika No. 456, Bandung",telepon:"022-87654321",email:"bandung@afms.com",kode:"CB002",status:"aktif",created_at:"2024-01-02T00:00:00Z",updated_at:"2024-01-02T00:00:00Z"}];(0,l.useEffect)(()=>{E()},[]);let E=async()=>{try{b(!0),setTimeout(()=>{p(C),b(!1)},1e3)}catch(e){a({type:"error",title:"Gagal memuat data cabang"}),b(!1)}},_=async e=>{e.preventDefault();try{if(j){let e={...j,...w,updated_at:new Date().toISOString()};p(a=>a.map(a=>a.id===j.id?e:a)),a({type:"success",title:"Cabang berhasil diperbarui"})}else{let e={id:Date.now(),...w,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};p(a=>[...a,e]),a({type:"success",title:"Cabang berhasil ditambahkan"})}v(!1),k(null),N({nama:"",alamat:"",telepon:"",email:"",kode:"",status:"aktif"})}catch(e){a({type:"error",title:"Gagal menyimpan data cabang"})}},S=e=>{k(e),N({nama:e.nama,alamat:e.alamat,telepon:e.telepon,email:e.email,kode:e.kode,status:e.status}),v(!0)},Z=async e=>{if(confirm("Apakah Anda yakin ingin menghapus cabang ini?"))try{p(a=>a.filter(a=>a.id!==e)),a({type:"success",title:"Cabang berhasil dihapus"})}catch(e){a({type:"error",title:"Gagal menghapus cabang"})}};return(0,n.jsx)(r.Z,{children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Manajemen Cabang"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Kelola data cabang perusahaan"})]}),(0,n.jsxs)(c.z,{onClick:()=>{k(null),N({nama:"",alamat:"",telepon:"",email:"",kode:"",status:"aktif"}),v(!0)},className:"flex items-center space-x-2",children:[(0,n.jsx)(h.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"Tambah Cabang"})]})]}),(0,n.jsx)(m.Z,{data:t,columns:[{key:"kode",title:"Kode",sortable:!0},{key:"nama",title:"Nama Cabang",sortable:!0},{key:"alamat",title:"Alamat",sortable:!1},{key:"telepon",title:"Telepon",sortable:!1},{key:"email",title:"Email",sortable:!1},{key:"status",title:"Status",sortable:!0,render:e=>(0,n.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("aktif"===e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"aktif"===e?"Aktif":"Nonaktif"})},{key:"actions",title:"Aksi",sortable:!1,render:(e,a)=>(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)("button",{onClick:()=>S(a),className:"text-blue-600 hover:text-blue-800",title:"Edit",children:(0,n.jsx)(x.Z,{className:"h-4 w-4"})}),(0,n.jsx)("button",{onClick:()=>Z(a.id),className:"text-red-600 hover:text-red-800",title:"Hapus",children:(0,n.jsx)(f.Z,{className:"h-4 w-4"})})]})}],loading:g,searchable:!0,searchPlaceholder:"Cari cabang..."}),(0,n.jsx)(u.Z,{isOpen:y,onClose:()=>{v(!1),k(null)},title:j?"Edit Cabang":"Tambah Cabang",children:(0,n.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsx)(d.I,{label:"Kode Cabang",value:w.kode,onChange:e=>N({...w,kode:e.target.value}),required:!0,placeholder:"Contoh: CP001"}),(0,n.jsx)(d.I,{label:"Nama Cabang",value:w.nama,onChange:e=>N({...w,nama:e.target.value}),required:!0,placeholder:"Nama cabang"})]}),(0,n.jsx)(d.I,{label:"Alamat",value:w.alamat,onChange:e=>N({...w,alamat:e.target.value}),required:!0,placeholder:"Alamat lengkap cabang"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsx)(d.I,{label:"Telepon",value:w.telepon,onChange:e=>N({...w,telepon:e.target.value}),required:!0,placeholder:"Nomor telepon"}),(0,n.jsx)(d.I,{label:"Email",type:"email",value:w.email,onChange:e=>N({...w,email:e.target.value}),required:!0,placeholder:"Email cabang"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,n.jsxs)("select",{value:w.status,onChange:e=>N({...w,status:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,n.jsx)("option",{value:"aktif",children:"Aktif"}),(0,n.jsx)("option",{value:"nonaktif",children:"Nonaktif"})]})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,n.jsx)(c.z,{type:"button",variant:"secondary",onClick:()=>{v(!1),k(null)},children:"Batal"}),(0,n.jsx)(c.z,{type:"submit",children:j?"Perbarui":"Simpan"})]})]})})]})})}},1182:function(e,a,t){"use strict";var n=t(7294);let l=n.forwardRef(function(e,a){let{title:t,titleId:l,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":l},s),t?n.createElement("title",{id:l},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))});a.Z=l},3681:function(e,a,t){"use strict";var n=t(7294);let l=n.forwardRef(function(e,a){let{title:t,titleId:l,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":l},s),t?n.createElement("title",{id:l},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});a.Z=l},3903:function(e,a,t){"use strict";var n=t(7294);let l=n.forwardRef(function(e,a){let{title:t,titleId:l,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":l},s),t?n.createElement("title",{id:l},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});a.Z=l}},function(e){e.O(0,[474,20,154,973,888,774,179],function(){return e(e.s=1252)}),_N_E=e.O()}]);