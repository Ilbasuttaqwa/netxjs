(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(4070)}])},5720:function(e,a,t){"use strict";var r=t(5893);t(7294);var s=t(8660);a.Z=e=>{let{size:a="md",variant:t="spinner",color:n="primary",className:i,text:l}=e,c=()=>{switch(a){case"sm":return"w-4 h-4";case"md":default:return"w-6 h-6";case"lg":return"w-8 h-8";case"xl":return"w-12 h-12"}},o=()=>{switch(n){case"primary":default:return"text-primary-600";case"secondary":return"text-secondary-600";case"white":return"text-white";case"gray":return"text-gray-600"}},d=()=>(0,r.jsxs)("svg",{className:(0,s.cn)("animate-spin",c(),o(),i),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u=()=>(0,r.jsx)("div",{className:(0,s.cn)("flex space-x-1",i),children:[0,1,2].map(e=>(0,r.jsx)("div",{className:(0,s.cn)("rounded-full animate-pulse",c().replace("w-","w-").replace("h-","h-").split(" ").map(e=>e.startsWith("w-")?e.replace(/\d+/,e=>String(Math.max(1,parseInt(e)/2))):e.startsWith("h-")?e.replace(/\d+/,e=>String(Math.max(1,parseInt(e)/2))):e).join(" "),o().replace("text-","bg-")),style:{animationDelay:"".concat(.2*e,"s"),animationDuration:"1s"}},e))}),m=()=>(0,r.jsx)("div",{className:(0,s.cn)("rounded-full animate-pulse",c(),o().replace("text-","bg-"),i)}),h=()=>(0,r.jsx)("div",{className:(0,s.cn)("flex items-end space-x-1",i),children:[0,1,2,3].map(e=>(0,r.jsx)("div",{className:(0,s.cn)("animate-pulse","w-1",c().split(" ")[1],o().replace("text-","bg-")),style:{animationDelay:"".concat(.15*e,"s"),animationDuration:"0.8s",height:"".concat(20+e%2*10,"px")}},e))});return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(()=>{switch(t){case"spinner":default:return d();case"dots":return u();case"pulse":return m();case"bars":return h()}})(),l&&(0,r.jsx)("p",{className:(0,s.cn)("text-sm",o()),children:l})]})}},7245:function(e,a,t){"use strict";t.d(a,{z:function(){return c}});var r=t(5893),s=t(7294),n=t(2003),i=t(8660);let l=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary-600 text-white hover:bg-primary-700",destructive:"bg-danger-600 text-white hover:bg-danger-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-50 text-gray-700",secondary:"bg-secondary-600 text-white hover:bg-secondary-700",ghost:"hover:bg-gray-100 text-gray-700",link:"underline-offset-4 hover:underline text-primary-600",success:"bg-success-600 text-white hover:bg-success-700",warning:"bg-warning-600 text-white hover:bg-warning-700"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=(0,s.forwardRef)((e,a)=>{let{className:t,variant:s,size:n,loading:c,leftIcon:o,rightIcon:d,children:u,disabled:m,...h}=e;return(0,r.jsxs)("button",{className:(0,i.cn)(l({variant:s,size:n,className:t})),ref:a,disabled:m||c,...h,children:[c&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!c&&o&&(0,r.jsx)("span",{className:"mr-2",children:o}),u,!c&&d&&(0,r.jsx)("span",{className:"ml-2",children:d})]})});c.displayName="Button"},4680:function(e,a,t){"use strict";var r=t(5893);t(7294);var s=t(8660);let n=e=>{let{children:a,className:t,variant:n="default",padding:i="md",hover:l=!1,animate:c=!1}=e;return(0,r.jsx)("div",{className:(0,s.cn)("transition-all duration-300",(()=>{switch(n){case"glass":return"glass rounded-2xl shadow-xl";case"elevated":return"card-modern";case"outlined":return"bg-white/95 dark:bg-slate-800/95 border border-violet-200/50 dark:border-violet-700/50 hover:border-violet-300 dark:hover:border-violet-600 transition-all duration-300 backdrop-blur-md";default:return"card"}})(),(()=>{switch(i){case"none":return"";case"sm":return"p-4";case"md":default:return"p-6";case"lg":return"p-8"}})(),l&&"hover-lift cursor-pointer group",c&&"animate-fade-in",t),children:a})};n.Header=e=>{let{children:a,className:t}=e;return(0,r.jsx)("div",{className:(0,s.cn)("card-header",t),children:a})},n.Body=e=>{let{children:a,className:t}=e;return(0,r.jsx)("div",{className:(0,s.cn)("card-body",t),children:a})},n.Footer=e=>{let{children:a,className:t}=e;return(0,r.jsx)("div",{className:(0,s.cn)("card-footer",t),children:a})},a.Z=n},4070:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return d}});var r=t(5893),s=t(1163),n=t(7294),i=t(4607),l=t(7245),c=t(4680),o=t(5720);function d(){let[e,a]=(0,n.useState)(!1),[t,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(""),[h,x]=(0,n.useState)(""),{addToast:p}=(0,i.p)(),g=(0,s.useRouter)();(0,n.useEffect)(()=>{localStorage.getItem("auth_token")?g.replace("/dasbor"):d(!1)},[]);let f=async e=>{e.preventDefault(),a(!0);try{let e=await fetch("/api/otentikasi/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u,password:h})}),a=await e.json();if(e.ok&&a.success&&a.data.token){localStorage.setItem("auth_token",a.data.token),localStorage.setItem("auth_user",JSON.stringify(a.data.user)),p({title:"Login Berhasil",message:"Selamat datang!",type:"success"});let e=a.data.user;"admin"===e.role?g.replace("/admin/dashboard"):"manager"===e.role?g.replace("/manager/dashboard"):g.replace("/dasbor")}else p({title:"Login Gagal",message:a.message||"Email atau password salah.",type:"error"})}catch(e){p({title:"Kesalahan",message:"Terjadi kesalahan saat login.",type:"error"})}finally{a(!1)}};return t?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(o.Z,{})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Masuk ke AFMS"}),(0,r.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sistem Manajemen Absensi Fingerprint"})]}),(0,r.jsx)(c.Z,{className:"p-8",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Masukkan email Anda",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Kata Sandi"}),(0,r.jsx)("input",{id:"password",type:"password",value:h,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Masukkan kata sandi Anda",required:!0})]}),(0,r.jsx)(l.z,{type:"submit",loading:e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Masuk"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Dengan masuk, Anda menyetujui penggunaan sistem AFMS"}),(0,r.jsx)("p",{className:"text-xs text-blue-600 mt-2",children:"Demo: Gunakan email dan password apa saja untuk masuk"})]})]})})]})})}},8660:function(e,a,t){"use strict";t.d(a,{cn:function(){return n}});var r=t(512),s=t(8388);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.m6)((0,r.W)(a))}}},function(e){e.O(0,[474,888,774,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);