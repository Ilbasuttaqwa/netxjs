(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[870],{7007:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manager/dashboard",function(){return t(2432)}])},5197:function(e,a,t){"use strict";var s=t(5893),r=t(7294),l=t(2044),n=t(5770);a.Z=()=>{let{user:e}=(0,n.a)(),[a,t]=(0,r.useState)([]),[i,d]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{(async()=>{try{d(!0),t([{label:"Sen",value:85},{label:"Sel",value:92},{label:"Rab",value:78},{label:"Kam",value:88},{label:"Jum",value:95},{label:"Sab",value:82},{label:"Min",value:90}])}catch(e){}finally{d(!1)}})()},[e]),i)return(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Grafik Kehadiran"}),(0,s.jsx)(l.Z,{className:"h-6 w-6 text-gray-400"})]}),(0,s.jsx)("div",{className:"animate-pulse",children:(0,s.jsx)("div",{className:"h-64 bg-gray-200 rounded"})})]});let c=Math.max(...a.map(e=>e.value));return(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Grafik Kehadiran"}),(0,s.jsx)(l.Z,{className:"h-6 w-6 text-gray-400"})]}),(0,s.jsx)("div",{className:"space-y-4",children:a.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 text-sm font-medium text-gray-600",children:e.label}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("div",{className:"bg-gray-200 rounded-full h-3",children:(0,s.jsx)("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:"".concat(e.value/c*100,"%")}})})}),(0,s.jsxs)("div",{className:"w-12 text-sm font-medium text-gray-900 text-right",children:[e.value,"%"]})]},a))}),(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,s.jsx)("span",{children:"Rata-rata minggu ini"}),(0,s.jsxs)("span",{className:"font-medium text-gray-900",children:[Math.round(a.reduce((e,a)=>e+a.value,0)/a.length),"%"]})]})})]})}},9262:function(e,a,t){"use strict";t.d(a,{Uc:function(){return d},Y1:function(){return c}});var s=t(5893),r=t(7294),l=t(1163),n=t(5770),i=t(5720);function d(e){let a=a=>{let{user:t,isLoading:d,isAuthenticated:c}=(0,n.a)(),o=(0,l.useRouter)();return((0,r.useEffect)(()=>{if(!d){if(!c){o.replace("/login");return}if(t&&"manager"!==t.role){"admin"===t.role?o.replace("/admin/dashboard"):o.replace("/dasbor");return}}},[t,d,c,o]),!d&&c&&t&&"manager"===t.role)?(0,s.jsx)(e,{...a}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)(i.Z,{})})};return a.displayName="withManagerAuth(".concat(e.displayName||e.name||"Component",")"),a}function c(e){let a=a=>{let{user:t,isLoading:d,isAuthenticated:c}=(0,n.a)(),o=(0,l.useRouter)();return((0,r.useEffect)(()=>{if(!d){if(!c){o.replace("/login");return}if(t&&!["admin","manager"].includes(t.role)){o.replace("/dasbor");return}}},[t,d,c,o]),!d&&c&&t&&["admin","manager"].includes(t.role))?(0,s.jsx)(e,{...a}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)(i.Z,{})})};return a.displayName="withAdminOrManagerAuth(".concat(e.displayName||e.name||"Component",")"),a}},2432:function(e,a,t){"use strict";t.r(a);var s=t(5893),r=t(7294),l=t(3903),n=t(9262),i=t(5770),d=t(2964),c=t(8482),o=t(5197),m=t(5892),x=t(1429),u=t(3431),h=t(9711),g=t(2044),f=t(7530),j=t(68);a.default=(0,n.Uc)(function(){var e;let{user:a}=(0,i.a)(),[t,n]=(0,r.useState)({totalEmployees:0,totalBranches:0,todayAttendance:0,lateToday:0,absentToday:0,attendancePercentage:0}),[b,v]=(0,r.useState)(!0);(0,r.useEffect)(()=>{N()},[]);let N=async()=>{try{let e=await fetch("/api/dasbor/stats");if(e.ok){let a=await e.json();n(a)}}catch(e){n({totalEmployees:25,totalBranches:1,todayAttendance:23,lateToday:2,absentToday:2,attendancePercentage:92})}finally{v(!1)}};return b?(0,s.jsx)(l.Z,{children:(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):(0,s.jsx)(l.Z,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Manager"}),(0,s.jsxs)("p",{className:"text-gray-600",children:["Selamat datang, ",null==a?void 0:a.nama_pegawai," - ",(null==a?void 0:null===(e=a.cabang)||void 0===e?void 0:e.nama_cabang)||"Cabang Utama"]})]}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"Manager"})})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)(d.Z,{title:"Total Karyawan",value:t.totalEmployees.toString(),icon:(0,s.jsx)(m.Z,{className:"h-6 w-6"}),color:"info"}),(0,s.jsx)(d.Z,{title:"Hadir Hari Ini",value:t.todayAttendance.toString(),icon:(0,s.jsx)(x.Z,{className:"h-6 w-6"}),color:"success"}),(0,s.jsx)(d.Z,{title:"Terlambat",value:t.lateToday.toString(),icon:(0,s.jsx)(u.Z,{className:"h-6 w-6"}),color:"warning"}),(0,s.jsx)(d.Z,{title:"Tidak Hadir",value:t.absentToday.toString(),icon:(0,s.jsx)(h.Z,{className:"h-6 w-6"}),color:"danger"})]}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Persentase Kehadiran Cabang"}),(0,s.jsx)(g.Z,{className:"h-6 w-6 text-gray-400"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("div",{className:"bg-gray-200 rounded-full h-4",children:(0,s.jsx)("div",{className:"bg-blue-600 h-4 rounded-full transition-all duration-300",style:{width:"".concat(t.attendancePercentage,"%")}})})}),(0,s.jsxs)("span",{className:"ml-4 text-2xl font-bold text-blue-600",children:[t.attendancePercentage,"%"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Grafik Kehadiran Mingguan"}),(0,s.jsx)(o.Z,{})]}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Aktivitas Terbaru"}),(0,s.jsx)(c.Z,{})]})]}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Aksi Cepat Manager"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("a",{href:"/admin/karyawan",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(m.Z,{className:"h-8 w-8 text-blue-600 mr-3"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:"Kelola Karyawan"}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Tambah, edit, hapus karyawan"})]})]}),(0,s.jsxs)("a",{href:"/admin/absensi",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(f.Z,{className:"h-8 w-8 text-green-600 mr-3"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:"Data Absensi"}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Lihat dan kelola absensi"})]})]}),(0,s.jsxs)("a",{href:"/admin/pemantauan",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(j.Z,{className:"h-8 w-8 text-purple-600 mr-3"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:"Monitoring"}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Monitor perangkat fingerprint"})]})]})]})]})]})})})},1429:function(e,a,t){"use strict";var s=t(7294);let r=s.forwardRef(function(e,a){let{title:t,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},l),t?s.createElement("title",{id:r},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});a.Z=r},3431:function(e,a,t){"use strict";var s=t(7294);let r=s.forwardRef(function(e,a){let{title:t,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},l),t?s.createElement("title",{id:r},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))});a.Z=r},9711:function(e,a,t){"use strict";var s=t(7294);let r=s.forwardRef(function(e,a){let{title:t,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},l),t?s.createElement("title",{id:r},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});a.Z=r}},function(e){e.O(0,[474,795,903,466,888,774,179],function(){return e(e.s=7007)}),_N_E=e.O()}]);