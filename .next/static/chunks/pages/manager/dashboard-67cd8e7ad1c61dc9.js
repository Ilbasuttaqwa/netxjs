(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[870],{7007:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manager/dashboard",function(){return s(2432)}])},5197:function(e,a,s){"use strict";var t=s(5893),r=s(7294),l=s(2044),n=s(5770);a.Z=()=>{let{user:e}=(0,n.a)(),[a,s]=(0,r.useState)([]),[i,d]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{(async()=>{try{d(!0),s([{label:"Sen",value:85},{label:"Sel",value:92},{label:"Rab",value:78},{label:"Kam",value:88},{label:"Jum",value:95},{label:"Sab",value:82},{label:"Min",value:90}])}catch(e){}finally{d(!1)}})()},[e]),i)return(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Grafik Kehadiran"}),(0,t.jsx)(l.Z,{className:"h-6 w-6 text-gray-400"})]}),(0,t.jsx)("div",{className:"animate-pulse",children:(0,t.jsx)("div",{className:"h-64 bg-gray-200 rounded"})})]});let c=Math.max(...a.map(e=>e.value));return(0,t.jsxs)("div",{className:"card-glass bg-white/80 backdrop-blur-sm border border-white/20 shadow-lg rounded-xl p-6 hover-lift transition-all duration-300",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg shadow-glow",children:(0,t.jsx)(l.Z,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Grafik Kehadiran"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Persentase kehadiran mingguan"})]})]})}),(0,t.jsx)("div",{className:"space-y-4",children:a.map((e,a)=>{let s=e.value/c*100,r=e=>e>=90?"from-emerald-500 to-green-600":e>=75?"from-blue-500 to-indigo-600":e>=60?"from-yellow-500 to-orange-600":"from-red-500 to-pink-600";return(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-bold text-gray-700",children:e.label})}),(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:["Hari ",e.label]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:[e.value,"%"]}),(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r ".concat(r(e.value))})]})]}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("div",{className:"bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,t.jsx)("div",{className:"h-4 rounded-full bg-gradient-to-r ".concat(r(e.value)," transition-all duration-700 ease-out shadow-sm group-hover:shadow-md"),style:{width:"".concat(s,"%"),animation:"slideRight 0.8s ease-out ".concat(.1*a,"s both")}})})})]},a)})}),(0,t.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200/50",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Rata-rata minggu ini"})]}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)("span",{className:"text-2xl font-bold text-gradient-blue",children:[Math.round(a.reduce((e,a)=>e+a.value,0)/a.length),"%"]})})]})})})]})}},9262:function(e,a,s){"use strict";s.d(a,{Uc:function(){return d},Y1:function(){return c}});var t=s(5893),r=s(7294),l=s(1163),n=s(5770),i=s(5720);function d(e){let a=a=>{let{user:s,isLoading:d,isAuthenticated:c}=(0,n.a)(),o=(0,l.useRouter)();return((0,r.useEffect)(()=>{if(!d){if(!c){o.replace("/login");return}if(s&&"manager"!==s.role){"admin"===s.role?o.replace("/admin/dashboard"):o.replace("/dasbor");return}}},[s,d,c,o]),!d&&c&&s&&"manager"===s.role)?(0,t.jsx)(e,{...a}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)(i.Z,{})})};return a.displayName="withManagerAuth(".concat(e.displayName||e.name||"Component",")"),a}function c(e){let a=a=>{let{user:s,isLoading:d,isAuthenticated:c}=(0,n.a)(),o=(0,l.useRouter)();return((0,r.useEffect)(()=>{if(!d){if(!c){o.replace("/login");return}if(s&&!["admin","manager"].includes(s.role)){o.replace("/dasbor");return}}},[s,d,c,o]),!d&&c&&s&&["admin","manager"].includes(s.role))?(0,t.jsx)(e,{...a}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)(i.Z,{})})};return a.displayName="withAdminOrManagerAuth(".concat(e.displayName||e.name||"Component",")"),a}},2432:function(e,a,s){"use strict";s.r(a);var t=s(5893),r=s(7294),l=s(3903),n=s(9262),i=s(5770),d=s(2964),c=s(8482),o=s(5197),m=s(5892),x=s(1429),u=s(3431),h=s(9711),g=s(2044),f=s(7530),b=s(68);a.default=(0,n.Uc)(function(){var e;let{user:a}=(0,i.a)(),[s,n]=(0,r.useState)({totalEmployees:0,totalBranches:0,todayAttendance:0,lateToday:0,absentToday:0,attendancePercentage:0}),[j,v]=(0,r.useState)(!0);(0,r.useEffect)(()=>{N()},[]);let N=async()=>{try{let e=await fetch("/api/dasbor/stats");if(e.ok){let a=await e.json();n(a)}}catch(e){n({totalEmployees:25,totalBranches:1,todayAttendance:23,lateToday:2,absentToday:2,attendancePercentage:92})}finally{v(!1)}};return j?(0,t.jsx)(l.Z,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):(0,t.jsx)(l.Z,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Manager"}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Selamat datang, ",null==a?void 0:a.nama_pegawai," - ",(null==a?void 0:null===(e=a.cabang)||void 0===e?void 0:e.nama_cabang)||"Cabang Utama"]})]}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsx)("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"Manager"})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(d.Z,{title:"Total Karyawan",value:s.totalEmployees.toString(),icon:(0,t.jsx)(m.Z,{className:"h-6 w-6"}),color:"info"}),(0,t.jsx)(d.Z,{title:"Hadir Hari Ini",value:s.todayAttendance.toString(),icon:(0,t.jsx)(x.Z,{className:"h-6 w-6"}),color:"success"}),(0,t.jsx)(d.Z,{title:"Terlambat",value:s.lateToday.toString(),icon:(0,t.jsx)(u.Z,{className:"h-6 w-6"}),color:"warning"}),(0,t.jsx)(d.Z,{title:"Tidak Hadir",value:s.absentToday.toString(),icon:(0,t.jsx)(h.Z,{className:"h-6 w-6"}),color:"danger"})]}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Persentase Kehadiran Cabang"}),(0,t.jsx)(g.Z,{className:"h-6 w-6 text-gray-400"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("div",{className:"bg-gray-200 rounded-full h-4",children:(0,t.jsx)("div",{className:"bg-blue-600 h-4 rounded-full transition-all duration-300",style:{width:"".concat(s.attendancePercentage,"%")}})})}),(0,t.jsxs)("span",{className:"ml-4 text-2xl font-bold text-blue-600",children:[s.attendancePercentage,"%"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Grafik Kehadiran Mingguan"}),(0,t.jsx)(o.Z,{})]}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Aktivitas Terbaru"}),(0,t.jsx)(c.Z,{})]})]}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Aksi Cepat Manager"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("a",{href:"/admin/karyawan",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsx)(m.Z,{className:"h-8 w-8 text-blue-600 mr-3"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:"Kelola Karyawan"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Tambah, edit, hapus karyawan"})]})]}),(0,t.jsxs)("a",{href:"/admin/absensi",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsx)(f.Z,{className:"h-8 w-8 text-green-600 mr-3"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:"Data Absensi"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Lihat dan kelola absensi"})]})]}),(0,t.jsxs)("a",{href:"/admin/pemantauan",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsx)(b.Z,{className:"h-8 w-8 text-purple-600 mr-3"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:"Monitoring"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Monitor perangkat fingerprint"})]})]})]})]})]})})})},1429:function(e,a,s){"use strict";var t=s(7294);let r=t.forwardRef(function(e,a){let{title:s,titleId:r,...l}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},l),s?t.createElement("title",{id:r},s):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});a.Z=r},3431:function(e,a,s){"use strict";var t=s(7294);let r=t.forwardRef(function(e,a){let{title:s,titleId:r,...l}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},l),s?t.createElement("title",{id:r},s):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))});a.Z=r},9711:function(e,a,s){"use strict";var t=s(7294);let r=t.forwardRef(function(e,a){let{title:s,titleId:r,...l}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},l),s?t.createElement("title",{id:r},s):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});a.Z=r}},function(e){e.O(0,[474,795,903,466,888,774,179],function(){return e(e.s=7007)}),_N_E=e.O()}]);